---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

<!-- badges: start -->
[![Travis build status](https://travis-ci.org/yonicd/details.svg?branch=master)](https://travis-ci.org/yonicd/details)
[![Codecov test coverage](https://codecov.io/gh/yonicd/details/branch/master/graph/badge.svg)](https://codecov.io/gh/yonicd/details?branch=master)
[![Covrpage Summary](https://img.shields.io/badge/covrpage-Last_Build_2019_09_03-brightgreen.svg)](http://tinyurl.com/yyodcwc7)
<!-- badges: end -->

# details

Simple function for creating a details block for markdown documents and Roxygen2 documentation.

## Installation

``` r
remotes::install_github("yonicd/details")
```

## Roxygen2

Many times in documentation there is a lot to say, but you do not want to overwhelm the user. 

To solve this we can use folding blocks in the documentation (which are then rendered into pkgdown website automatically)

To enable this feature add `Roxygen: list(markdown = TRUE)` to the DESCRIPTION file before rendering the roxygen2

You can use this feature by wrapping documentation with the macros
 
```
\foldstart{[SUMMARY TEXT]}

#' DOCUMENTATION
#' ...
#' DOCUMENTATION

\foldend
```

The `SUMMARY_TEXT` is optional, where the folded block will have a header of `r fontawesome::fa("caret-right")` __your text__.

The default will display `r fontawesome::fa("caret-right")` __details__. 

These folded blocks can be inserted anywhere in the documentation, eg `@description`, `@param`, `@details`, `@return`, ....

## Markdown

The function `details::details` can output to result either to `console` (default), `clipboard` (via clipr) or to the R `file.editor` pop up (useful when clipr not available).

If the input is a file path then it will be identified internally and the lines will be read in automatically.

For this document it makes most sense to use the default output (`console`).

### Character

#### Basic

```{r,results='asis'}
library(magrittr)

sessioninfo::session_info()%>%
  details::details(summary = 'current session info')
```

#### Open by default

```{r,results='asis'}
sessioninfo::session_info()%>%
  details::details(summary = 'open session info',open = TRUE)
```

#### Custom tooltip

```{r,results='asis'}
sessioninfo::session_info()%>%
  details::details(summary = 'session info with date tooltip ', tooltip = Sys.Date())
```

#### Highlight Language

```{r,results='asis'}

readLines('https://raw.githubusercontent.com/metrumresearchgroup/covrpage/master/_pkgdown.yml')%>%
  details::details(summary = 'yaml example',lang = 'yml')
```

### data.frame/tibble

#### data.frame

```{r,results='asis'}
 iris%>%
  details::details(summary = 'data.frame')
```

#### tibble

```{r,results='asis'}
 iris%>%
  tibble::as_tibble()%>%
  details::details(summary = 'tibble')
```

### lists

```{r,results='asis'}
 list(a = 1,b = head(iris))%>%
  details::details(summary = 'list')
```
